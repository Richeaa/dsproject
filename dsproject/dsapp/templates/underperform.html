{% extends "about.html" %}

{% block title %}Prediction of Underperform Students{% endblock %}

{% block content %}
{% load static %}
<style>
    table {
        border-collapse: collapse;
        width: 100%;
    }
    th, td {
        padding: 0.75rem;
        border: 1px solid #e5e7eb;
        text-align: center;
    }
    thead {
        background-color: #f3f4f6;
        font-weight: bold;
    }
    tbody tr:nth-child(even) {
        background-color: #f9fafb;
    }
</style>

<div class="flex flex-col items-center ">
    <h1 class="text-4xl font-bold text-sky-500 py-8 mb-6">Underperform Student Prediction</h1>

    <div class="hidden md:block overflow-x-auto px-4 max-h-96 overflow-y-auto border rounded-lg shadow">
    <div class="text-sm text-left text-gray-600">
        {{ df_html|safe }}
    </div>
    </div>

    <div class="container mx-auto flex flex-col md:flex-row py-8 px-4 gap-8">
        <div class="w-full md:w-1/3 bg-white shadow-lg rounded-lg p-6">
            <form id="gradeForm" class="space-y-4">
                <div>
                    <label for="course1" class="block text-sm font-medium text-gray-700">Course 1 Grade</label>
                    <input type="number" name="course1" id="course1" step="0.01" min="0" max="100" placeholder="Enter grade (0-100)" class="mt-1 block w-full p-2 border border-gray-300 rounded-md">
                </div>
                <div>
                    <label for="course2" class="block text-sm font-medium text-gray-700">Course 2 Grade</label>
                    <input type="number" name="course2" id="course2" step="0.01" min="0" max="100" placeholder="Enter grade (0-100)" class="mt-1 block w-full p-2 border border-gray-300 rounded-md">
                </div>
                <div>
                    <label for="course3" class="block text-sm font-medium text-gray-700">Course 3 Grade</label>
                    <input type="number" name="course3" id="course3" step="0.01" min="0" max="100" placeholder="Enter grade (0-100)" class="mt-1 block w-full p-2 border border-gray-300 rounded-md">
                </div>
                <div>
                    <label for="course4" class="block text-sm font-medium text-gray-700">Course 4 Grade</label>
                    <input type="number" name="course4" id="course4" step="0.01" min="0" max="100" placeholder="Enter grade (0-100)" class="mt-1 block w-full p-2 border border-gray-300 rounded-md">
                </div>
                <div>
                    <label for="course5" class="block text-sm font-medium text-gray-700">Course 5 Grade</label>
                    <input type="number" name="course5" id="course5" step="0.01" min="0" max="100" placeholder="Enter grade (0-100)" class="mt-1 block w-full p-2 border border-gray-300 rounded-md">
                </div>
                <div>
                    <label for="model_name" class="block text-sm font-medium text-gray-700">Prediction Model</label>
                    <select name="model_name" id="model_name" required class="mt-1 block w-full p-2 border border-gray-300 rounded-md">
                        <option value="lr">Logistic Regression</option>
                        <option value="rf">Random Forest</option>
                    </select>
                </div>
                <button type="submit" class="w-full bg-sky-500 text-white py-2 px-4 rounded-md hover:bg-sky-600 transition-colors duration-300">Predict</button>
            </form>
            <p id="status" class="mt-4 text-center text-lg font-semibold text-gray-800"></p>
        </div>

        <div class="w-full md:w-2/3 space-y-8">
            <div class="bg-white shadow-lg rounded-lg p-6">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">Line Chart</h2>
                <div style="position: relative; height:300px;">
                    <canvas id="chart1"></canvas>
                </div>
            </div>
            
            <div class="bg-white shadow-lg rounded-lg p-6">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">Bar Chart</h2>
                <div style="position: relative; height:250px;">
                    <canvas id="chart2"></canvas>
                </div>
            </div>

            <div class="bg-white shadow-lg rounded-lg p-6">
                <h2 class="text-xl font-semibold text-gray-700 mb-2">Personalized Advice</h2>
                <p id="status2" class="text-gray-600"></p>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'script.js' %}"></script>
{% endblock %}

{% block footer %}
{% endblock %}